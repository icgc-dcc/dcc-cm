################################################################################
# Main vars for ETL
################################################################################

# Server name prefix
server_prefix: dcc

# Username and directory
dcc_user: dcc_dev
dcc_home: "/u/{{dcc_user}}"

# Some etl settings shared between roles.
etl_home: "{{ dcc_home }}/dcc-etl"
data_dir: "{{ etl_home }}/data"
repo_dir: "{{ etl_home }}/git/dcc-etl"

# Directories
staging_dir: /tmp


release_name: test18-0-0

################################################################################
# All Versions, Centralized for convenience.
################################################################################

ditionary: 0.10a
cm_version: 5.3.1 #Cloudera Manager 
cdh_version: 5.3.1
elasticsearch_version: 0.90.1
shiro_version: 1.2.1
mongodb_version: 2.4.1
postgresql_version: 9.2

# DCC Components
annotator_version: 10-cdh-java8
cli_version: 10-cdh-java8
downloader_workflows_dist_version: 10-cdh-java8
exporter_dist_version: 10-cdh-java8
identifier_dist_version: 10-cdh-java8
portal_dist_version: 10-cdh-java8

################################################################################
# DCC Resources, DCC Dependices
################################################################################

# DCC apt proxy.
proxy_env:
  http_proxy: ***REMOVED***

# External URLs 
external_submission_url: http://hwww2-dcc.oicr.on.ca:5380
external_docs_url: http://docs.icgc.org

# Submission Server
submission_server_dist_name: dcc-submission-server
submission_server_dist_version: 10-cdh-java8
submission_server_dist_filename: "{{ submission_server_dist_name }}-{{ submission_server_dist_version }}-dist.tar.gz"
submission_server_jar_filename: "{{ submission_server_dist_name }}-{{ submission_server_dist_version }}.jar"
submission_server_dist_url: "{{ artifactory_snapshot_url }}/org/icgc/dcc/{{ submission_server_dist_name }}/{{ submission_server_dist_version }}/{{ submission_server_dist_filename }}"
submission_server_jar_url: "{{ artifactory_snapshot_url }}/org/icgc/dcc/{{ submission_server_dist_name }}/{{ submission_server_dist_version }}/{{ submission_server_jar_filename }}"

# Artifactory URLS
artifactory_url: http://seqwaremaven.oicr.on.ca/artifactory
artifactory_deps_url: "{{ artifactory_url }}/simple/dcc-dependencies" 
artifactory_release_url: "{{ artifactory_url }}/simple/dcc-release"
artifactory_snapshot_url: "{{ artifactory_url }}/simple/dcc-snapshot"

# Reference Genome
reference_genome_name: dcc-reference-genome
reference_genome_basename: GRCh37
reference_genome_version: 75.v1
reference_genome_filename: "{{ reference_genome_basename}}.{{ reference_genome_version }}"
reference_genome_archive: "{{ reference_genome_name }}-{{ reference_genome_filename }}.tar.gz"
reference_genome_url: "{{ artifactory_deps_url }}/org/icgc/dcc/{{ reference_genome_name }}/{{ reference_genome_filename }}/{{ reference_genome_archive }}"

# Hadoop Settings
cdh_version: CDH5
cdh_version_number: 5.3.1
cm_api_version: 9
java_install_dir: /usr/java
java_home: "{{ java_install_dir }}/jdk"
hadoop_cluster_name: DCC
hadoop_cloudera_manager: "{{ server_prefix }}-hadoop-manager"
hadoop_workers: "{{ server_prefix }}-hadoop-worker-1,{{ server_prefix }}-hadoop-worker-2,{{ server_prefix }}-hadoop-worker-3,{{ server_prefix }}-hadoop-worker-4"
hadoop_fs_url: "hdfs://{{ server_prefix }}-hadoop-worker-1"
hadoop_job_tracker: "{{ server_prefix }}-hadoop-worker-1:8021"
hadoop_name_node_host: "{{ server_prefix }}-hadoop-worker-1"
hadoop_name_node: "hdfs://{{ server_prefix }}-hadoop-worker-1:8020"
hadoop_zookeeper_quorum: "{{ server_prefix }}-hadoop-worker-1"
hadoop_oozie_node: "http://{{ server_prefix }}-hadoop-worker-1:11000/oozie"
hadoop_username: hdfs
fuse_home_dir: /hdfs/dcc

downloader_user_folder: /user/downloader
downloader_user_workflows_folder: "{{ downloader_user_folder }}/workflows"
download_app_path: "{{ hadoop_name_node }}{{ downloader_user_workflows_folder }}/archive-main"
download_home_path: /tmp/download
download_dynamic_home_path: "{{ download_home_path }}/dynamic"
download_static_home_path: "{{ download_home_path }}/static"


reverse_proxy_url: "https://{{ server_prefix }}-nginx"

postgresql_user: dcc
postgresql_password: dcc
postgresql_uri: "jdbc:postgresql://{{ server_prefix }}-postgres"
postgresql_fathmm_uri: "{{ postgresql_uri }}/fathmm?user={{postgresql_user}}&password={{postgresql_password}}"
postgresql_portal_uri: "{{ postgresql_uri }}/dcc_portal"

mongo_host: "{{ server_prefix }}-mongo"
mongo_base_uri: "mongodb://{{ mongo_host }}"

identifier_uri: "http://{{ server_prefix }}-identifier:6381"

elasticsearch_host: "{{ server_prefix }}-elasticsearch"
elasticsearch_uri: "es://{{ elasticsearch_host }}:9300"


# DCC ETL Contact Settings
smtpServer: ***REMOVED***
sender: noreply@oicr.on.ca
recipients: "sepehr.mavedati@oicr.on.ca" # ';' separated



